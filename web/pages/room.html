<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        /* –î–æ–±–∞–≤–ª–µ–Ω—ã —Å—Ç–∏–ª–∏ –¥–ª—è –º–µ—Ä—Ü–∞–Ω–∏—è */
        @keyframes flashAnimation {

            0%,
            100% {
                opacity: 1;
            }

            50% {
                opacity: 0.5;
            }
        }

        /* –î–æ–±–∞–≤–ª–µ–Ω—ã —Å—Ç–∏–ª–∏ –¥–ª—è –±–ª–æ–∫–∞ —Ç–∞–π–º–µ—Ä–∞ */
        .timer {
            font-family: monospace;
            font-size: 36px;
            color: #333;
        }

        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
            background-color: #f0f8ff;
            /* –ì–æ–ª—É–±–æ–π —Ñ–æ–Ω */
        }

        .flash {
            animation: flashAnimation 0.5s infinite alternate;
        }

        header {
            background-color: #61b0ff;
            /* –¢–µ–º–Ω–æ-—Å–∏–Ω–∏–π —Ñ–æ–Ω */
            color: #fff;
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
        }

        .room-title {
            text-align: center;
            margin: 0;
            /* –£–±–∏—Ä–∞–µ–º –æ—Ç—Å—Ç—É–ø—ã */
            flex-grow: 1;
            /* –ó–∞–Ω–∏–º–∞–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ */
            padding-left: 60px;
        }

        .user-info {
            display: flex;
            align-items: center;
            padding-left: 20px;
        }

        .table-info {
            font-size: 18px;
            font-weight: bold;
            padding-right: 20px;
            min-width: 120px;
            /* –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –º–∏–Ω–∏–º–∞–ª—å–Ω—É—é —à–∏—Ä–∏–Ω—É */
        }

        .logout-btn {
            background-color: #1c1c1c;
            /* –ö—Ä–∞—Å–Ω–∞—è –∫–Ω–æ–ø–∫–∞ –≤—ã—Ö–æ–¥–∞ */
            color: #fff;
            padding: 10px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
            min-width: 120px;
            /* –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –º–∏–Ω–∏–º–∞–ª—å–Ω—É—é —à–∏—Ä–∏–Ω—É */
        }

        .logout-btn:hover {
            background-color: #cc0000;
            /* –¢–µ–º–Ω–æ-–∫—Ä–∞—Å–Ω—ã–π –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ */
        }

        main {
            display: flex;
            justify-content: space-between;

            width: 100%;
            flex-grow: 1;
        }

        .top-players,
        .chat {
            width: 15%;
            border: 1px solid #87CEFA;
            /* –°–≤–µ—Ç–ª–æ-–≥–æ–ª—É–±–∞—è –≥—Ä–∞–Ω–∏—Ü–∞ */
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            min-width: 200px;
            max-height: 700px;

            margin: 10px;
            text-align: center;
            background-color: rgb(105, 162, 212);
            /* –ì–æ–ª—É–±–æ–π —Ñ–æ–Ω */
            color: #fff;
            /* –ë–µ–ª—ã–π —Ç–µ–∫—Å—Ç */
        }

        .top-players {
    text-align: left;
    max-height: 700px; /* –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é –≤—ã—Å–æ—Ç—É –±–ª–æ–∫–∞, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–π –ø–æ—è–≤–∏—Ç—Å—è –ø–æ–ª–æ—Å–∞ –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ */
    overflow-y: auto; /* –î–æ–±–∞–≤–ª–µ–Ω–æ —Å–≤–æ–π—Å—Ç–≤–æ –¥–ª—è –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–π –ø–æ–ª–æ—Å—ã –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ */
}

        .top-players h2 {
            margin-bottom: 10px;
        }

        .top-players ul {
    list-style: none;
    padding: 0;
    font-weight: bold;
    margin: 0; /* –î–æ–±–∞–≤–ª–µ–Ω–æ –¥–ª—è —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –æ—Ç—Å—Ç—É–ø–∞ —Å–≤–µ—Ä—Ö—É –≤–Ω—É—Ç—Ä–∏ –±–ª–æ–∫–∞ */
}

        .top-players li {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px;
        }

        .top-players li:last-child {
            border-bottom: none;
            /* –£–±—Ä–∞–Ω–æ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ —É –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ —Å–ø–∏—Å–∫–∞ */
        }

        .top-players li span {
            font-weight: bold;
            margin-right: 10px;
        }

        .top-players li:nth-child(1) {
            background-color: #FFD700;
            /* –ó–æ–ª–æ—Ç–æ –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ –º–µ—Å—Ç–∞ */
            color: #000;
            /* –ß–µ—Ä–Ω—ã–π —Ü–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞ –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ –º–µ—Å—Ç–∞ */
            font-weight: bold;
        }

        .top-players li:nth-child(2) {
            background-color: #C0C0C0;
            /* –°–µ—Ä–µ–±—Ä–æ –¥–ª—è –≤—Ç–æ—Ä–æ–≥–æ –º–µ—Å—Ç–∞ */
            color: #000;
            /* –ß–µ—Ä–Ω—ã–π —Ü–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞ –¥–ª—è –≤—Ç–æ—Ä–æ–≥–æ –º–µ—Å—Ç–∞ */
            font-weight: bold;
        }

        .top-players li:nth-child(3) {
            background-color: #cd7f32;
            /* –ë—Ä–æ–Ω–∑–∞ –¥–ª—è —Ç—Ä–µ—Ç—å–µ–≥–æ –º–µ—Å—Ç–∞ */
            color: #000000;
            /* –ë–µ–ª—ã–π —Ü–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞ –¥–ª—è —Ç—Ä–µ—Ç—å–µ–≥–æ –º–µ—Å—Ç–∞ */
            font-weight: bold;
        }

        .top-players li span.score {
            color: rgb(0, 0, 0);
            /* –ó–µ–ª–µ–Ω—ã–π —Ü–≤–µ—Ç –¥–ª—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –æ—á–∫–æ–≤ */
        }

        .main-content {
            text-align: center;
            padding: 20px;
            margin: 10px;
            border-radius: 8px;
            position: relative;
            flex: 3;
            max-width: 900px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .timer {
            font-family: monospace;
            font-size: 36px;
            color: #333;
        }

        .main-content img {
            width: 100%;
            max-width: 690px;
            height: auto;
            border-radius: 50%;
            opacity: 1;
        }

        /* –û–±–Ω–æ–≤–ª–µ–Ω—ã —Å—Ç–∏–ª–∏ –¥–ª—è —á–∞—Ç–∞ –∏ –ø–æ–ª—è –≤–≤–æ–¥–∞ —Å–æ–æ–±—â–µ–Ω–∏–π */
        .chat {
            max-height: 700px; /* –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é –≤—ã—Å–æ—Ç—É –±–ª–æ–∫–∞, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–π –ø–æ—è–≤–∏—Ç—Å—è –ø–æ–ª–æ—Å–∞ –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ */
    overflow-y: auto; /* –î–æ–±–∞–≤–ª–µ–Ω–æ —Å–≤–æ–π—Å—Ç–≤–æ –¥–ª—è –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–π –ø–æ–ª–æ—Å—ã –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ */
            display: flex;
            flex-direction: column;
            align-items: center;
            /* –í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –ø–æ —Ü–µ–Ω—Ç—Ä—É */
        }

        .chat h2 {
            margin-bottom: 10px;
            /* –û—Ç—Å—Ç—É–ø –º–µ–∂–¥—É –∑–∞–≥–æ–ª–æ–≤–∫–æ–º –∏ —Å–æ–¥–µ—Ä–∂–∏–º—ã–º —á–∞—Ç–∞ */
        }

        .chat-input {
            margin-top: auto;
            /* –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –æ—Ç—Å—Ç—É–ø —Å–≤–µ—Ä—Ö—É, —á—Ç–æ–±—ã –ø—Ä–∏–∂–∞—Ç—å –≤–Ω–∏–∑ */
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            align-items: center;
            width: 100%;
            /* –ß—Ç–æ–±—ã –ø–æ–ª–µ –≤–≤–æ–¥–∞ –∑–∞–Ω–∏–º–∞–ª–æ –≤—Å—é –¥–æ—Å—Ç—É–ø–Ω—É—é —à–∏—Ä–∏–Ω—É */
        }

        .chat-input input {
            padding: 10px;
            width: 90%;
            flex-grow: 1;
            margin-bottom: 5px;
        }

        .table-info>span {
            font-size: 24px;

        }

        /* –û—Å—Ç–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –æ—Å—Ç–∞—é—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π */


        .last-elements {
            position: fixed;
            bottom: 10px;
            right: 10px;
            display: flex;
            flex-wrap: wrap;
            align-items: flex-end;
        }

        .element-img {
            width: 50px;
            height: 50px;
            margin: 5px;
        }

        .raise-hand-btn {
            background-color: #4682B4;
            /* –°–∏–Ω–∏–π —Ü–≤–µ—Ç */
            color: #fff;
            padding: 10px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
            margin-top: 10px;
        }

        .raise-hand-btn:hover {
            background-color: #1E90FF;
            /* –ì–æ–ª—É–±–æ–π —Ü–≤–µ—Ç –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ */
        }

        /* –î–æ–±–∞–≤–ª–µ–Ω—ã –∫–ª—é—á–µ–≤—ã–µ –∫–∞–¥—Ä—ã –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ */
        @keyframes fadeInOut {

            0%,
            100% {
                opacity: 0;
            }

            50% {
                opacity: 1;
            }
        }

        /* –î–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ —Å—Ç–∏–ª–∏ –¥–ª—è –±–ª–æ–∫–∞ .icons */
        .icons {
            position: fixed;
            top: 6%;
            right: 2%;
            display: none;
            /* –°–∫—Ä—ã—Ç—å –∏–∫–æ–Ω–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é */
            z-index: 999;
            /* –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å z-index, —á—Ç–æ–±—ã –∏–∫–æ–Ω–∫–∏ –±—ã–ª–∏ –ø–æ–≤–µ—Ä—Ö –¥—Ä—É–≥–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ */
        }

        .icons button {
            margin: 5px;
        }

        /* –î–æ–±–∞–≤—å—Ç–µ –º–µ–¥–∏–∞-–∑–∞–ø—Ä–æ—Å –¥–ª—è –ø–æ–∫–∞–∑–∞ –∏–∫–æ–Ω–æ–∫ –ø—Ä–∏ —à–∏—Ä–∏–Ω–µ —ç–∫—Ä–∞–Ω–∞ 850px –∏ –±–æ–ª—å—à–µ */
        @media only screen and (max-width: 851px) {
            header {

                flex-direction: row;
                align-items: center;
            }

            .user-info {
                padding-left: 10px;
            }

            .table-info {
                font-size: 15px;
            }

            .table-info>span {
                font-size: 15px;

            }

            .logout-btn {
                min-width: auto;
                /* –°–±—Ä–æ—Å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π —à–∏—Ä–∏–Ω—ã –¥–ª—è –∫–Ω–æ–ø–∫–∏ –≤—ã—Ö–æ–¥–∞ */
                padding: 5px 10px;
                /* –£–º–µ–Ω—å—à–∏—Ç–µ –æ—Ç—Å—Ç—É–ø—ã –∫–Ω–æ–ø–∫–∏ */
            }

            .room-title {
                padding-left: 130px;
                font-size: 20px;

            }

            .icons {
                display: block;
            }

            .top-players,
            .chat {
                display: none;
                /* –°–∫—Ä—ã—Ç—å —ç—Ç–∏ –ø–∞–Ω–µ–ª–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –Ω–∞ —ç–∫—Ä–∞–Ω–∞—Ö —Ä–∞–∑–º–µ—Ä–æ–º 850px –∏ –º–µ–Ω—å—à–µ */
            }

            /* –î–æ–±–∞–≤—å—Ç–µ —Å—Ç–∏–ª–∏ –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ –ø–ª–∞–≤–Ω–æ–≥–æ –ø–æ—è–≤–ª–µ–Ω–∏—è –∏–∫–æ–Ω–æ–∫ */
            @keyframes fadeIn {
                from {
                    opacity: 0;
                }

                to {
                    opacity: 1;
                }
            }

            .icons {
                animation: fadeIn 1s ease-out;
                /* –î–æ–±–∞–≤—å—Ç–µ –∞–Ω–∏–º–∞—Ü–∏—é –∫ –±–ª–æ–∫—É .icons */
            }

            .main-content img {
                max-width: 80%;
                /* –£–º–µ–Ω—å—à–∏—Ç–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é —à–∏—Ä–∏–Ω—É –∫–∞—Ä—Ç–∏–Ω–∫–∏ */
            }

            .last-elements {
                bottom: 10px;
                right: 10px;
                display: flex;
                flex-wrap: wrap;
                align-items: center;
            }

            .element-img {
                width: 30px;
                /* –£–º–µ–Ω—å—à–∏—Ç–µ —Ä–∞–∑–º–µ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç–æ–≤ */
                height: 30px;
                margin: 5px;
            }

            @media only screen and (max-width: 600px) {
                header {
                    height: 50px;
                }

                .room-title {
                    flex-grow: 0;
                    padding-right: 20px;
                }

                main {
                    position: relative;
                    /* –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø–æ–∑–∏—Ü–∏—é main –∫–∞–∫ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—É—é –¥–ª—è –∞–±—Å–æ–ª—é—Ç–Ω–æ–≥–æ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è .table-info */
                }

                .table-info {
                    position: absolute;
                    top: 5%;
                    left: 10px;
                    /* –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω—É–∂–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –æ—Ç—Å—Ç—É–ø–∞ –æ—Ç –ª–µ–≤–æ–≥–æ –∫—Ä–∞—è */
                    color: #000;
                    font-size: 12px;

                }

            }

            @media only screen and (max-width: 407px) {
                .room-title {
                    font-size: 15px;
                    padding-left: 0;
                }

                .top-players {
                    min-width: 140px;
                    font-size: 11px;
                    padding: 5px;
                    margin-top: 30px;
                }

                .chat {
                    min-width: 140px;
                    font-size: 11px;
                    padding: 5px;
                    margin-top: 30px;
                }

                .last-elements {
                    bottom: 10px;
                    right: 10px;

                }
            }
        }
    </style>
    <script src="/static/websocket.js"></script>
</head>

<body>

    <header>
        <div class="user-info">
            <button class="logout-btn">–í—ã–π—Ç–∏</button>
        </div>
        <h1 class="room-title">{{.Room}}</h1>
        <p class="table-info">–í–∞—à –Ω–æ–º–µ—Ä —Å—Ç–æ–ª–∞: <span>42</span></p>
    </header>

    <main>
        <div class="top-players">
            <h2>–¢–æ–ø –∏–≥—Ä–æ–∫–æ–≤</h2>
            <ul id="topPlayersList"></ul>
        </div>

        <div class="icons">
            <button id="chatToggle">–ß–∞—Ç</button>
            <button id="topToggle">–¢–û–ü</button>
        </div>

        <div class="main-content">
            <div class="timer">00:20</div>
            <img id="elementImage" src="/items/chem_el.png" alt="–•–∏–º–∏—á–µ—Å–∫–∏–π —ç–ª–µ–º–µ–Ω—Ç">
            <button class="raise-hand-btn" onclick="raiseHand()">–ü–æ–¥–Ω—è—Ç—å —Ä—É–∫—É</button>
        </div>

        <div class="chat">
            <h2>–ß–∞—Ç</h2>
            <div class="messages">
                <div id="start_message" class="message" style="display: block ;">
                    <span class="message__author"> –ê–Ω–¥—Ä–µ–π ü§è </span> <br>
                    <span class="message__field"> –ü—Ä–∏–≤–µ—Ç! </span>
                </div>
                <!-- –ó–¥–µ—Å—å –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —á–∞—Ç–∞ -->
            </div>
            <form name="publish">
                <input type="text" name="message" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ">
                <!-- <button>–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button> -->
                <input style="background-color: #4682B4; color: #fff;" class='btn' type="submit" value="–û—Ç–ø—Ä–∞–≤–∏—Ç—å">
            </form>
        </div>
    </main>

    <div class="last-elements">
        <h3>–ü–æ—Å–ª–µ–¥–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã</h3>
        <img class="element-img" src="/items/chem_el2.png" alt="–≠–ª–µ–º–µ–Ω—Ç 1">
        <img class="element-img" src="/items/chem_el2.png" alt="–≠–ª–µ–º–µ–Ω—Ç 2">
        <img class="element-img" src="/items/chem_el2.png" alt="–≠–ª–µ–º–µ–Ω—Ç 3">
        <img class="element-img" src="/items/chem_el2.png" alt="–≠–ª–µ–º–µ–Ω—Ç 4">
        <img class="element-img" src="/items/chem_el.png" alt="–≠–ª–µ–º–µ–Ω—Ç 5">
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            var timerElement = document.querySelector(".timer");
            var imageElement = document.getElementById("elementImage");
            var initialTime = 20;

            function updateTimer() {
                timerElement.textContent = formatTime(initialTime);

                // –î–æ–±–∞–≤–ª–µ–Ω–æ —É—Å–ª–æ–≤–∏–µ –¥–ª—è –º–µ—Ä—Ü–∞–Ω–∏—è
                if (initialTime <= 5 && initialTime % 2 === 0) {
                    imageElement.classList.add("flash");
                } else {
                    imageElement.classList.remove("flash");
                }

                // –î–æ–±–∞–≤–ª–µ–Ω–æ —É—Å–ª–æ–≤–∏–µ –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ —Å–º–µ–Ω—ã –∫–∞—Ä—Ç–∏–Ω–∫–∏
                if (initialTime <= 0) {
                    imageElement.src = "chem_el2.png";
                    resetTimer();
                }

                initialTime--;
                setTimeout(updateTimer, 1000);
            }

            function formatTime(seconds) {
                var minutes = Math.floor(seconds / 60);
                var remainingSeconds = seconds % 60;

                var formattedTime =
                    pad(minutes, 2) + ":" + pad(remainingSeconds, 2);

                return formattedTime;
            }

            function pad(number, length) {
                var str = String(number);
                while (str.length < length) {
                    str = "0" + str;
                }
                return str;
            }

            function resetTimer() {
                initialTime = 20;
            }

            updateTimer();
            function fetchAndUpdateTopPlayers() {
                fetch("/api/users")
                    .then(response => response.json())
                    .then(data => {
                        const topPlayersList = document.getElementById("topPlayersList");

                        // Clear existing list
                        topPlayersList.innerHTML = "";

                        // –§–∏–ª—å—Ç—Ä—É–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ –∫–æ–º–Ω–∞—Ç–µ (–∑–∞–º–µ–Ω–∏—Ç–µ "–ù–∞–∑–≤–∞–Ω–∏–µ –ö–æ–º–Ω–∞—Ç—ã" –Ω–∞ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–Ω–∞—Ç—ã)
                        const usersInRoom = data.users.filter(user => user.Room === "");

                        // Loop through the filtered user data and update the table
                        usersInRoom.forEach(user => {
                            const listItem = document.createElement("li");
                            listItem.textContent = `${user.Username} - ${user.Score} –æ—á–∫–æ–≤`;
                            topPlayersList.appendChild(listItem);
                        });
                    })
                    .catch(error => console.error("Error fetching user data:", error));
            }


            // ... (existing code)

            // Fetch and update top players initially
            fetchAndUpdateTopPlayers();

            // Set up an interval to periodically update the top players table
            setInterval(fetchAndUpdateTopPlayers, 1000); // Update every minute (adjust as needed)
        });
        document.getElementById('chatToggle').onclick = function () {
            var chatElement = document.querySelector('.chat');

            if (chatElement.style.display === 'none') chatElement.style.display = 'flex';
            else chatElement.style.display = 'none';
        };
        document.getElementById('topToggle').onclick = function () {
            var topElement = document.querySelector('.top-players');

            if (topElement.style.display === 'none') topElement.style.display = 'block';
            else topElement.style.display = 'none';
        };
        function raiseHand() {
        // –î–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä WebSocket
        const message = {
            type: 'raiseHand',
        }

        // –°–æ–∑–¥–∞–µ–º –æ–¥–∏–Ω —Ä–∞–∑ —ç–∫–∑–µ–º–ø–ª—è—Ä WebSocket
const wsUrl = 'ws://127.0.0.1/ws';
const socket = new WebSocket(wsUrl);

// –°–ª—É—à–∞–µ–º —Å–æ–±—ã—Ç–∏–µ –æ—Ç–∫—Ä—ã—Ç–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
socket.addEventListener('open', (event) => {
    console.log('WebSocket connection opened:', event);
});

// –°–ª—É—à–∞–µ–º —Å–æ–±—ã—Ç–∏–µ –∑–∞–∫—Ä—ã—Ç–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
socket.addEventListener('close', (event) => {
    console.log('WebSocket connection closed:', event);
});

// –°–ª—É—à–∞–µ–º —Å–æ–±—ã—Ç–∏–µ –æ—à–∏–±–∫–∏
socket.addEventListener('error', (error) => {
    console.error('WebSocket error:', error);
});

// –°–ª—É—à–∞–µ–º —Å–æ–±—ã—Ç–∏—è –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞
socket.addEventListener('message', (event) => {
    const data = JSON.parse(event.data);

    // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç–∏–ø —Å–æ–æ–±—â–µ–Ω–∏—è
    if (data.type === 'raiseHandNotification') {
        // –í–∞—à –∫–æ–¥ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ø–æ–¥–Ω—è—Ç–∏–∏ —Ä—É–∫–∏
        console.log('–ö—Ç–æ-—Ç–æ –ø–æ–¥–Ω—è–ª —Ä—É–∫—É!');
        // –ó–¥–µ—Å—å –≤—ã –º–æ–∂–µ—Ç–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∫–∞–∫–∏–µ-—Ç–æ –¥–µ–π—Å—Ç–≤–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
    }
});

// –í–∞—à–∞ —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ø–æ–¥–Ω—è—Ç–∏–∏ —Ä—É–∫–∏
function raiseHand() {
    // –°–æ–∑–¥–∞–µ–º –æ–±—ä–µ–∫—Ç —Å–æ–æ–±—â–µ–Ω–∏—è
    const message = {
        type: 'raiseHand',
    };

    // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
    socket.send(JSON.stringify(message));
}
    }

    </script>
</body>

</html>